<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_saleorder_document_inherit_lift"
              inherit_id="sale.report_saleorder_document"
              name="Sale Order Report - Lift Details">

        <xpath expr="//p[@id='fiscal_position_remark']" position="replace"/>

        <!-- Add Lift Technical Specs -->
        <xpath expr="//div[@id='total']/../.." position="after">
            <div class="mt-4" style="page-break-before: always;">
                <t t-set="i" t-value="0"/>
                <h4 style="text-align:center;"><t t-esc="doc.opportunity_id.quotation_template_crm_id.section_heading"/></h4>
                <t t-if="doc.opportunity_id.price_list_ids">
                    <t t-foreach="doc.opportunity_id.price_list_ids" t-as="pl" t-foreach-index="i">
                        <div class="mb-4" t-attf-style="{{ 'page-break-before: always;' if i != 0 else '' }}">
                            <h5>
                                <t t-esc="pl.name"/>
                            </h5>
                            <ul>
                                <li t-if="pl.type_of_lift_one_ids">
                                    <strong>Type of Lift I:</strong>
                                    <span t-esc="', '.join(pl.type_of_lift_one_ids.mapped('name'))"/>
                                </li>
                                <li t-if="pl.type_of_lift_two_ids">
                                    <strong>Type of Lift II:</strong>
                                    <span t-esc="', '.join(pl.type_of_lift_two_ids.mapped('name'))"/>
                                </li>
                                <li t-if="pl.no_of_stop_opening">
                                    <strong>No of Stop &amp; Opening:</strong>
                                    <span t-esc="pl.no_of_stop_opening"/>
                                </li>
                                <li t-if="pl.type_of_door_opening">
                                    <strong>Type of Door Opening:</strong>
                                    <span t-esc="dict(pl._fields['type_of_door_opening'].selection).get(pl.type_of_door_opening)"/>
                                </li>
                                <li t-if="pl.type_of_door_required_in_hoist_way">
                                    <strong>Type of Door Required in Hoist Way:</strong>
                                    <span t-esc="dict(pl._fields['type_of_door_required_in_hoist_way'].selection).get(pl.type_of_door_required_in_hoist_way)"/>
                                </li>
                                <li t-if="pl.type_of_landing_door_finish_required_in_hoist_way">
                                    <strong>Landing Door Finish in Hoist Way:</strong>
                                    <span t-esc="dict(pl._fields['type_of_landing_door_finish_required_in_hoist_way'].selection).get(pl.type_of_landing_door_finish_required_in_hoist_way)"/>
                                </li>
                                <li t-if="pl.type_of_cabin_door_finish_required_in_hoist_way">
                                    <strong>Cabin Door Finish in Hoist Way:</strong>
                                    <span t-esc="dict(pl._fields['type_of_cabin_door_finish_required_in_hoist_way'].selection).get(pl.type_of_cabin_door_finish_required_in_hoist_way)"/>
                                </li>
                                <li t-if="pl.type_of_cabin_finish_required_in_hoist_way">
                                    <strong>Cabin Finish in Hoist Way:</strong>
                                    <span t-esc="dict(pl._fields['type_of_cabin_finish_required_in_hoist_way'].selection).get(pl.type_of_cabin_finish_required_in_hoist_way)"/>
                                </li>
                                <li t-if="pl.lift_well_width">
                                    <strong>Lift Well Dimension Width (mm):</strong>
                                    <span t-esc="pl.lift_well_width"/>
                                </li>
                                <li t-if="pl.lift_well_depth">
                                    <strong>Lift Well Dimension Depth (WOP/AP) (mm):</strong>
                                    <span t-esc="pl.lift_well_depth"/>
                                </li>
                                <li t-if="pl.lift_car_width">
                                    <strong>Lift Car Size Width (mm):</strong>
                                    <span t-esc="pl.lift_car_width"/>
                                </li>
                                <li t-if="pl.lift_car_height">
                                    <strong>Lift Car Size Depth (mm):</strong>
                                    <span t-esc="pl.lift_car_height"/>
                                </li>
                                <li t-if="pl.door_opening_width">
                                    <strong>Door Opening Width (mm):</strong>
                                    <span t-esc="pl.door_opening_width"/>
                                </li>
                                <li t-if="pl.door_opening_height">
                                    <strong>Door Opening Height (mm):</strong>
                                    <span t-esc="pl.door_opening_height"/>
                                </li>
                                <li t-if="pl.type_of_source">
                                    <strong>Type of Source:</strong>
                                    <span t-esc="dict(pl._fields['type_of_source'].selection).get(pl.type_of_source)"/>
                                </li>
                                <li t-if="pl.price">
                                    <strong>Price:</strong>
                                    <span t-esc="pl.price"/>
                                </li>
                                <li t-if="pl.remarks">
                                    <strong>Remarks:</strong>
                                    <span t-esc="pl.remarks"/>
                                </li>
                                <li t-if="pl.site_status">
                                    <strong>Site Status:</strong>
                                    <span t-esc="pl.site_status"/>
                                </li>
                            </ul>

                            <!-- Payment Terms per lift -->
                            <t t-if="pl.payment_terms or pl.payment_terms_type or pl.payment_terms_note">
                                <h5>Payment Terms</h5>
                                <ul>
                                    <li t-if="pl.payment_terms">
                                        <strong>Payment Terms:</strong>
                                        <span t-esc="dict(pl._fields['payment_terms'].selection).get(pl.payment_terms)"/>
                                    </li>
                                    <li t-if="pl.payment_terms_type">
                                        <strong>Payment Terms Type:</strong>
                                        <span t-esc="dict(pl._fields['payment_terms_type'].selection).get(pl.payment_terms_type)"/>
                                    </li>
                                    <li t-if="pl.payment_terms_note">
                                        <strong>Payment Terms Note:</strong>
                                        <span t-esc="pl.payment_terms_note"/>
                                    </li>
                                </ul>
                            </t>

                            <!-- Delivery & Installation per lift -->
                            <t t-if="pl.delivery_schedule or pl.delivery_schedule_week or pl.installation_schedule or pl.installation_schedule_week">
                                <h5>Delivery and Installation Schedules</h5>
                                <ul>
                                    <li t-if="pl.delivery_schedule">
                                        <strong>Delivery Schedule:</strong>
                                        <span t-esc="dict(pl._fields['delivery_schedule'].selection).get(pl.delivery_schedule)"/>
                                    </li>
                                    <li t-if="pl.delivery_schedule_week">
                                        <strong>Delivery Schedule Week:</strong>
                                        <span t-esc="pl.delivery_schedule_week"/>
                                    </li>
                                    <li t-if="pl.installation_schedule">
                                        <strong>Installation Schedule:</strong>
                                        <span t-esc="dict(pl._fields['installation_schedule'].selection).get(pl.installation_schedule)"/>
                                    </li>
                                    <li t-if="pl.installation_schedule_week">
                                        <strong>Installation Schedule Week:</strong>
                                        <span t-esc="pl.installation_schedule_week"/>
                                    </li>
                                </ul>
                            </t>
                        </div>
                    </t>
                </t>
                <t t-else="">
                    <p>No lift details available.</p>
                </t>

<!--                Annexure – II-->
                <div class="mt-5" style="page-break-before: always;">
                    <h4 style="text-align:center;">Annexure – II</h4>
                    <h5 style="text-align:center; font-weight:bold;">Safety &amp; Outstanding features of Cooper Elevators</h5>
                    <ul style="margin-left:20px; line-height:1.8;">
                        <li>Automatic Cut-Off of Lighting</li>
                        <li>Ventilation during Stand-by</li>
                        <li>Attendant Operation</li>
                        <li>Serial communication</li>
                        <li>LED Lights</li>
                        <li>Automatic Rescue Device</li>
                        <li>Ride comfort: Smooth and Jerk free</li>
                        <li>Emergency Light &amp; Alarm</li>
                        <li>Full length safety curtain</li>
                        <li>Speed governor</li>
                        <li>Levelling accuracy +/- 5mm</li>
                    </ul>
                </div>

                <div class="mt-5" style="page-break-before: always;">
                    <!-- Annexure III -->
                    <h4 style="text-align:center;">Annexure – III</h4>
                    <h5 style="font-weight:bold; text-align:center;">Warranty &amp; Maintenance</h5>
                    <p style="margin-left:20px;line-height:1.8;text-align:justify;">
                        Our quotation includes warranty for twelve months from the date of commissioning or eighteen months from the
                        commissioning or eighteen months from the date of delivery of materials at site whichever is earlier, and we
                        will provide free maintenance for this period. The period of this maintenance will be deemed to commence on
                        the date the lift installation is completed and offered for inspection, the date of commencement of this service
                        will remain unchanged irrespective of any delay in building completion, availability of permanent power supply,
                        inspection, taking over or commencing use of the lift or any other reason on the part of the client.
                    </p>
                    <p style="margin-left:20px;line-height:1.8;text-align:justify;">
                        Routine Maintenance will consist of regular inspection and any necessary adjustment and lubrication of the equipment.
                        The required consumables and spares will be furnished except such parts as may be needed because of negligence, misuse
                        or accident not caused by us. All work will be performed during our regular working hours of our regular working days
                        except for emergency minor adjustment/breakdown/ call back service which will be provided during regular working hours
                        and also during any overtime hours. No work or service other than that specifically mentioned is included or intended.
                    </p>
                    <p style="margin-left:20px;line-height:1.8;text-align:justify;">
                        The equipment delivered at site is the property of the purchaser and Cooper lifts is not responsible for the theft,
                        damage/pilfer.
                    </p>
                    <p style="margin-left:20px;line-height:1.8;">
                        We shall not be liable for any loss, damage or delay due to any cause beyond our reasonable control, including, but not
                        limited to, acts of government, strikes, lockouts, fire explosion, theft, floods, riot, civil commotion, war, malicious mischief
                        or act of God/force measure condition. Under no circumstances shall we be liable for consequential damages.
                    </p>

                    <!-- Annexure V -->
                    <h4 style="text-align:center;page-break-before: always;" >Annexure – IV</h4>
                    <h5 style="font-weight:bold; text-align:center;">Delivery Schedule</h5>

                    <p style="margin-left:20px; line-height:1.8;">
                        <strong>Typical production time schedule is as under:</strong><br/>
                        Passenger Lift – 5-6 weeks,
                        Car Lift – 10-12 weeks,
                        Glass Lift – 12-14 weeks
                    </p>

                    <p style="margin-left:20px; line-height:1.8;">
                        <strong>Material Dispatch schedule:</strong><br/>
                        Production – 10 weeks,
                        Transportation – 1 week
                    </p>

                    <p style="margin-left:20px; line-height:1.8;">
                        <strong>Installation schedule:</strong>
                    </p>
                    <ul style="margin-left:40px; line-height:1.8;text-align:justify;">
                        <li>Any change in delivery schedule due to unavoidable circumstances would be informed within stipulated time.</li>
                        <li>Please note that specs &amp; payment is very important for timely delivery of the units.</li>
                    </ul>

                    <p style="margin-left:20px; line-height:1.8;">
                        <strong>To Be Filled By Customer:</strong><br/>
                        Expected week of delivery – ______________________<br/>
                        Expected week of commissioning – ______________________
                    </p>


                    <!-- Annexure VI -->
                    <h4 style="text-align:center;page-break-before: always;">Annexure – V</h4>
                    <p style="font-weight:bold; text-align:center;">General Terms &amp; Condition</p>
                    <p style="margin-left:20px;line-height:1.8;">
                        Erection:
                    </p>
                    <p style="margin-left:20px;line-height:1.8;text-align:justify;">
                        Our quotation includes the erection of the lift components and all necessary skilled and unskilled labor required to
                        complete the erection, wiring, and testing of the lift. The erection period will begin once the lift well has been handed
                        over to us, after all civil work has been completed. The Time required to complete the Erection &amp; Commissioning is 10 weeks.
                    </p>
                    <p style="margin-left:20px;line-height:1.8;text-align:justify;">
                        If the handover of the site is delayed from your side, the supply and installation schedule will be adjusted to synchronize with the
                        completion of the site. Consequently, the completion period will be extended accordingly, without any imposition of conditions.
                    </p>
                    <p style="margin-left:20px;line-height:1.8;text-align:justify;">
                        We are not responsible for any delayed delivery or handover of the lift if:
                        <li>Payment terms are not observed.</li>
                        <li>Obligations under preparatory work are not fulfilled on time.</li>
                        <li>Formalities are delayed due to non-payment of fees or missing technical details.</li>
                        <li>Approved layout drawings are not received in time.<br/></li>
                    </p>
                    <p style="margin-left:20px;line-height:1.8;text-align:justify;">
                        The delivery and erection timelines are provided in good faith based on current working conditions
                        and may be extended due to Force Majeure events. No claims for damages will be entertained due to delayed delivery.
                    </p>
                    <p style="margin-left:20px;line-height:1.8;">Reconditioning / Replacement of Materials:</p>
                    <p style="margin-left:20px;line-height:1.8;text-align:justify;">
                        In case any materials or components supplied by us need reconditioning or replacement due to the following:
                        1. Non-availability of power supply or incomplete work from your side.<br/>
                        2. Damage due to improper storage provided by you.<br/>
                        3. Force Majeure conditions.<br/>
                        4. Theft or pilferage at the worksite.<br/>
                        The cost will be borne by you and payable on demand.
                    </p>
                    <p style="margin-left:20px;line-height:1.8;">Handing Over:</p>
                    <p style="margin-left:20px;line-height:1.8;text-align:justify;">
                        To minimize any inconvenience, you agree to take over the lift as soon as the erection is completed. Our erection
                        crew will test and adjust the lift and provide about a week’s notice for the official handover. Please note, our erectors are instructed not to allow the lift to be used until it has been officially handed over.
                    </p>
                    <p style="margin-left:20px; line-height:1.8; font-weight:bold;">
                        Terms of Cancellation:
                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        If the order is cancelled by the PURCHASER, the following cancellation charges will apply:
                    </p>
                    <ul style="margin-left:40px; line-height:1.8;text-align:justify;">
                        <li>10% of the contract value if cancelled before the General Arrangement Drawing (GAD) is prepared.</li>
                        <li>25% of the contract value if cancelled after GAD approval.</li>
                    </ul>

                    <p style="margin-left:20px; line-height:1.8; font-weight:bold;">
                        Termination:
                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        If the supply of lift materials is not completed within 1 year from the date of contract due to any delay or default from your side, we reserve the right to:                    </p>
                    <ul style="margin-left:40px; line-height:1.8;text-align:justify;">
                        <li>Offer a revised time schedule, price, and payment terms.</li>
                        <li>If not accepted within 4 weeks, treat the contract as cancelled and proceed according to the above cancellation terms.</li>
                    </ul>

                    <p style="margin-left:20px; line-height:1.8; font-weight:bold;">
                        Title to Property:
                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        All materials supplied by us remain our property un􀁍l full payment is made and the lift is handed over.
                        We reserve the right to remove any equipment supplied by us at your cost if there is any default in payment,
                        regardless of attachment to the premises.
                    </p>

                    <p style="margin-left:20px; line-height:1.8; font-weight:bold;">
                        Validity:
                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        This offer is valid for 30 days from the date of this quotation.
                    </p>

                    <p style="margin-left:20px; line-height:1.8; font-weight:bold;">
                        Taxes &amp; Levies:
                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        All applicable taxes and government levies at the time of supply will be payable on demand.
                    </p>

                    <p style="margin-left:20px; line-height:1.8; font-weight:bold;">
                        Arbitration:
                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        Any disputes arising between us will be settled by arbitration in Chennai, with courts in Chennai
                        city having exclusive jurisdiction.
                    </p>

                    <p style="margin-left:20px; line-height:1.8; font-weight:bold;">
                        General Arrangement Drawings:
                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        We will send the General Arrangement Drawing in triplicate within 1 week from receipt of complete site
                        details and the order. These drawings indicate important dimensional details of the lift shaft, pit, machine
                        room, car, and landing openings. Any modifications required in the drawing should be communicated before construction
                        begins, and we will provide the revised GAD for your approval.
                    </p>

                    <p style="margin-left:20px; line-height:1.8; font-weight:bold;">
                        CONCLUSION OF CONTRACT:
                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        This draft contract or offer is valid up to 30 days from the date of offer for acceptance by customer.
                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        The Contract, however, shall be deemed concluded and to have come into force only on confirmation by the authorized
                        signatory of company at its Regional/Branch/Other offices after assignment of lift work order numbers from our Head Office,
                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        In compliance with Section 171 of CGST Act 2017, the Contract price has been determined after due consider
                        applicable taxes as on the relevant date (including but not limited to GST) an input side as well as on output with the available
                        benefit of input tax credit as per the law
                    </p>
                    <p style="margin-left:20px; line-height:1.8;">
                        GST Registration Number: ______________________ /Unregistered Dealer<br/>
                        PAN Number: ______________________ /PAN Not Applicable<br/>
                        IN DUPLICATE ON: ______________________ <br/>
                        SIGNATURE: ______________________ <br/>
                    </p>
                    <p style="margin-left:20px; line-height:1.8; font-weight:bold;">
                        <strong>License Documents (Extra Cost):</strong>
                    </p>
                    <p style="margin-left:20px;line-height:1.8;text-align:justify;">
                        We will submit Form A with the following documents listed below:
                        1. Approved copy of Building Plan. (CMDA/Corporation/Local Body etc.,)<br/>
                        2. Approved copy of Elevation Plan.<br/>
                        3. Planning Permit. (CMDA)<br/>
                        4. Building Permit. (Corporation/Local body)<br/>

                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        I/We undertake the responsibility to furnish the above-mentioned documents and obtain Form B (lift erection
                        permission) from the Licensing Authority.
                    </p>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        I/We undertake to absolve M/s. Cooper Elevators India Private Limited of any liabilities in case of failure on your part in
                        securing the lift erection permission.
                    </p>
                    <p style="margin-left:20px; line-height:1.8;">
                        ACCEPTED BY: ______________________ <br/>
                        (SIGNATURE WITH SEAL AND DATE)
                    </p>

                    <!-- Annexure VII -->
                    <h4 style="text-align:center;page-break-before: always;">Annexure – VI</h4>
                    <h5 style="font-weight:bold; text-align:center;">Preparatory work</h5>
                    <p style="margin-left:20px; line-height:1.8;text-align:justify;">
                        You agree at your cost.<br/><br/>
                        1. TO FURNISH within two weeks (or sooner if required) from the date of acceptance of this proposal, all required
                        data for the performance of this contract.<br/>
                        2. TO DESIGN AND FURNISH a properly framed and enclosed legal li􀁎 sha􀁎/structure including, if necessary, its
                        extension above the roof, required to withstand the forces and loads resul􀁍ng from use of the li􀁎. The li􀁎 sha􀁎
                        should and be lighted, be treated and painted to minimise the accumulation and circulation of dust.<br/>
                        3. TO FURNISH a li􀁎 pit of proper and legal depth below the lowest landing and if required, suitable drains and water
                        proofing.<br/>
                        4. TO FURNISH a properly lighted and ven􀁍lated fire proof machine room (of sufficient size to accommodate our
                        equipment) including concrete floor or metal gra􀁍ng and to furnish proper access thereto. The machine room walls,
                        floor and ceiling will be treated and painted to minimise accumulation and circulation of dust.<br/>
                        5. TO FURNISH AND INSTALL necessary li􀁎 sha􀁎 door , architraves, brick fascias/steel fascia plates, unless otherwise provided herein.<br/>
                        6. TO PROVIDE a continuous sill bearing area for each lift sha􀁎 entrance of such constructions as to assure secure
                        anchorage and support for each sill.<br/>
                        7. TO DO all painting, except of lift material.<br/>
                        8. TO DO all cu􀁙ng of walls, floors or partitions together with any repairs made necessary thereby, including grouting of all bolts, sills, members indicator and button boxes etc. in position.<br/>
                        9. TO FURNISH required power at the machine room terminating in suitable main switches for power and light circuits with circuit breakers, lighting arresters, suitable earthing electrical protective leads to machine room and other devices necessary to meet legal code requirements.<br/>
                        10. TO FURNISH light outlet point at the middle of lift shaft and a light point in the pit.<br/>
                        11. TO FURNISH during the erection of lifts, electric power of the necessary characteristics to provide illumination and for operation of tools and hoists if required and current for starting, testing and adjusting the lift.<br/>
                        12. TO GUARD AND PROTECT lift shaft and machine room during lift installation.<br/>
                        13. TO COMPLETE all work in such time so as not to delay our work.<br/>
                        14. TO RELIEVE us of any responsibility in whole or in part for any pro rata expenses of electric current, or expenses, of any nature relating to the rest of the building and other contractor’s work (unless provided for herein).<br/>
                        15. TO PAY all fees that may be required in connection with erection or preparation of the structure in which the
                        elevator equipment is to be erected including any general permit/certificate fees, usually billed by Government
                        agency directly to the owner also including licence fees for the installation or inspection of the elevator equipment.<br/>
                    </p>
                </div>
            </div>
        </xpath>

    </template>
    <template id="custom_external_layout_letterhead">
        <div class="mb-4" style="border-bottom:1px solid #000; padding-bottom:10px;">
            <div class="d-flex justify-content-between">
                <!-- Left: Company Logo -->
                <div>
                    <img t-if="company.logo" t-att-src="image_data_uri(company.logo)" style="max-height:80px;"/>
                </div>

                <!-- Right: Company Details -->
                <div class="text-end" style="font-size:12px; line-height:1.6;">
                    <strong t-field="company.name"/>
                    <br/>
                    <span t-field="company.street"/>,
                    <t t-if="company.street2"><span t-field="company.street2"/>,</t>
                    <span t-field="company.city"/> - <span t-field="company.zip"/>
                    <br/>
                    <t t-if="company.state_id"><span t-field="company.state_id.name"/>,</t>
                    <span t-field="company.country_id.name"/>
                    <br/>
                    Tel: <span t-field="company.phone"/>
                    <br/>
                    E-mail: <span t-field="company.email"/>
                </div>
            </div>

            <!-- Second Row: Date & Ref No. -->
            <div class="d-flex justify-content-between mt-2" style="font-size:12px;">
                <div>
                    Date: <span t-esc="format_date(datetime.date.today())"/>
                </div>
                <div>
                    Ref. No: <span t-esc="doc.name"/>
                </div>
            </div>
        </div>
    </template>
</odoo>
